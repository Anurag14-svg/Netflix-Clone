{"ast":null,"code":"import _regeneratorRuntime from\"E:/Projects/netflix-clone/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"E:/Projects/netflix-clone/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"E:/Projects/netflix-clone/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{useHistory}from\"react-router-dom\";import axios from\"../axios\";import requests from\"../requests\";import\"./Banner.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Banner(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),movie=_useState2[0],setMovie=_useState2[1];var history=useHistory();useEffect(function(){function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var request;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(requests.fetchNetflixOriginals);case 2:request=_context.sent;setMovie(request.data.results[Math.floor(Math.random()*request.data.results.length-1)]);return _context.abrupt(\"return\",request);case 5:case\"end\":return _context.stop();}}},_callee);}));return _fetchData.apply(this,arguments);}fetchData();},[]);//   console.log(movie);\nfunction truncate(str,n){return(str===null||str===void 0?void 0:str.length)>n?str.substr(0,n-1)+\"...\":str;}var handleMoviePlay=function handleMoviePlay(){console.log(\"Movie Clicked\");history.push('./movie');props.handleMoviePlay(movie);};return/*#__PURE__*/_jsxs(\"header\",{className:\"banner\",style:{backgroundSize:\"cover\",backgroundImage:\"url(\\n            \\\"https://image.tmdb.org/t/p/original/\".concat(movie===null||movie===void 0?void 0:movie.backdrop_path,\"\\\"\\n         )\"),backgroundPosition:\"top center\"},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bannercontent\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"banner_title\",children:(movie===null||movie===void 0?void 0:movie.title)||(movie===null||movie===void 0?void 0:movie.name)||(movie===null||movie===void 0?void 0:movie.original_name)}),/*#__PURE__*/_jsxs(\"div\",{className:\"banner_buttons\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleMoviePlay,className:\"banner_button\",children:\"Play\"}),/*#__PURE__*/_jsx(\"button\",{className:\"banner_button\",children:\"My List\"})]}),/*#__PURE__*/_jsx(\"h1\",{className:\"banner_description\",children:truncate(movie===null||movie===void 0?void 0:movie.overview,120)})]}),/*#__PURE__*/_jsx(\"div\",{className:\"banner_fadebottom\"})]});}export default Banner;","map":{"version":3,"sources":["E:/Projects/netflix-clone/src/Components/Banner.jsx"],"names":["React","useState","useEffect","useHistory","axios","requests","Banner","props","movie","setMovie","history","fetchData","get","fetchNetflixOriginals","request","data","results","Math","floor","random","length","truncate","str","n","substr","handleMoviePlay","console","log","push","backgroundSize","backgroundImage","backdrop_path","backgroundPosition","title","name","original_name","overview"],"mappings":"iUAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,MAAOC,CAAAA,KAAP,KAAkB,UAAlB,CACA,MAAOC,CAAAA,QAAP,KAAqB,aAArB,CACA,MAAO,cAAP,C,wFAEA,QAASC,CAAAA,MAAT,CAAgBC,KAAhB,CAAuB,CACrB,cAA0BN,QAAQ,CAAC,EAAD,CAAlC,wCAAOO,KAAP,eAAcC,QAAd,eACA,GAAMC,CAAAA,OAAO,CAAGP,UAAU,EAA1B,CAEAD,SAAS,CAAC,UAAM,SACCS,CAAAA,SADD,qIACd,qKACwBP,CAAAA,KAAK,CAACQ,GAAN,CAAUP,QAAQ,CAACQ,qBAAnB,CADxB,QACQC,OADR,eAEEL,QAAQ,CACNK,OAAO,CAACC,IAAR,CAAaC,OAAb,CACEC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,GAAgBL,OAAO,CAACC,IAAR,CAAaC,OAAb,CAAqBI,MAArC,CAA8C,CAAzD,CADF,CADM,CAAR,CAFF,gCAQSN,OART,wDADc,4CAWdH,SAAS,GACV,CAZQ,CAYN,EAZM,CAAT,CAcF;AAEE,QAASU,CAAAA,QAAT,CAAkBC,GAAlB,CAAwBC,CAAxB,CAA0B,CACtB,MAAO,CAAAD,GAAG,OAAH,EAAAA,GAAG,SAAH,QAAAA,GAAG,CAAEF,MAAL,EAAcG,CAAd,CAAkBD,GAAG,CAACE,MAAJ,CAAW,CAAX,CAAcD,CAAC,CAAC,CAAhB,EAAqB,KAAvC,CAA+CD,GAAtD,CACH,CAED,GAAMG,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CAC5BC,OAAO,CAACC,GAAR,CAAY,eAAZ,EACAjB,OAAO,CAACkB,IAAR,CAAa,SAAb,EACArB,KAAK,CAACkB,eAAN,CAAsBjB,KAAtB,EACD,CAJD,CAMA,mBACE,gBAAQ,SAAS,CAAC,QAAlB,CACC,KAAK,CAAI,CACLqB,cAAc,CAAE,OADX,CAELC,eAAe,mEAC2BtB,KAD3B,SAC2BA,KAD3B,iBAC2BA,KAAK,CAAEuB,aADlC,kBAFV,CAKLC,kBAAkB,CAAG,YALhB,CADV,wBAUI,aAAK,SAAS,CAAC,eAAf,wBACI,WAAI,SAAS,CAAE,cAAf,UACK,CAAAxB,KAAK,OAAL,EAAAA,KAAK,SAAL,QAAAA,KAAK,CAAEyB,KAAP,IAAgBzB,KAAhB,SAAgBA,KAAhB,iBAAgBA,KAAK,CAAE0B,IAAvB,IAA+B1B,KAA/B,SAA+BA,KAA/B,iBAA+BA,KAAK,CAAE2B,aAAtC,CADL,EADJ,cAII,aAAK,SAAS,CAAC,gBAAf,wBACI,eAAQ,OAAO,CAAIV,eAAnB,CAAoC,SAAS,CAAC,eAA9C,kBADJ,cAEI,eAAQ,SAAS,CAAC,eAAlB,qBAFJ,GAJJ,cASI,WAAI,SAAS,CAAE,oBAAf,UACKJ,QAAQ,CAACb,KAAD,SAACA,KAAD,iBAACA,KAAK,CAAE4B,QAAR,CAAmB,GAAnB,CADb,EATJ,GAVJ,cAuBI,YAAK,SAAS,CAAC,mBAAf,EAvBJ,GADF,CA2BD,CAED,cAAe9B,CAAAA,MAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport axios from \"../axios\";\r\nimport requests from \"../requests\";\r\nimport \"./Banner.css\"\r\n\r\nfunction Banner(props) {\r\n  const [movie, setMovie] = useState([]);\r\n  const history = useHistory()\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      const request = await axios.get(requests.fetchNetflixOriginals);\r\n      setMovie(\r\n        request.data.results[\r\n          Math.floor(Math.random() * request.data.results.length - 1)\r\n        ]\r\n      );\r\n\r\n      return request;\r\n    }\r\n    fetchData();\r\n  }, []);\r\n\r\n//   console.log(movie);\r\n\r\n  function truncate(str , n){\r\n      return str?.length > n ? str.substr(0, n-1) + \"...\" : str;\r\n  }\r\n\r\n  const handleMoviePlay = () => {\r\n    console.log(\"Movie Clicked\")\r\n    history.push('./movie')\r\n    props.handleMoviePlay(movie)\r\n  }\r\n\r\n  return (\r\n    <header className=\"banner\" \r\n     style = {{\r\n         backgroundSize :\"cover\",\r\n         backgroundImage : `url(\r\n            \"https://image.tmdb.org/t/p/original/${movie?.backdrop_path}\"\r\n         )`,\r\n         backgroundPosition : \"top center\"\r\n     }}\r\n    >\r\n        \r\n        <div className=\"bannercontent\">\r\n            <h1 className =\"banner_title\">\r\n                {movie?.title || movie?.name || movie?.original_name}\r\n            </h1>\r\n            <div className=\"banner_buttons\">\r\n                <button onClick = {handleMoviePlay} className=\"banner_button\">Play</button>\r\n                <button className=\"banner_button\">My List</button>\r\n            </div>\r\n            \r\n            <h1 className =\"banner_description\">\r\n                {truncate(movie?.overview , 120)}\r\n            </h1>\r\n        </div>\r\n        <div className=\"banner_fadebottom\"></div>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Banner;\r\n"]},"metadata":{},"sourceType":"module"}